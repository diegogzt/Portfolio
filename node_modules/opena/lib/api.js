"use strict";var n=require("path"),r=require("fs");!function(){var i=function(r,i){return require(n.join(r,i))};exports.init=function(e){var t=e.apis={};!function u(a,o){r.readdirSync(o).forEach(function(c){if(-1===c.indexOf(".")&&"_"!==c)return u(a+"."+c,n.join(o,c));var f=a.substring(4),s=t[f];if(s||(s=t[f]=[null,{}]),"_"===c){var d=r.readFileSync(n.join(o,c),"utf-8");return s[0]=d}var l=i.bind(null,o,c)();s[1][c.substring(0,c.length-3)]=l(e)})}("api",n.join(process.cwd(),"api"))}}();